env:
  global:
  - REPO=p1hub/p1pay.front.protocol.one
  - secure: F3VsKrrChjmfxktAAlOOW5mHimcZAtmOZrPKQ6uIrkoKZFTAqQ66AtAgmUN5SNz4rgMSr780cyHfnk1HhnswgYFqMaa6+REGM7ptaSBnH0yN1bjAtyizoD86z9NrK1jEeQI8yTJbVDVP27KZFxxrmowneqQ7fSAhO7ii6NkAzVQnvBuosdGxIqU0bUSbV7WFmTTy65dE4EuOZzu5CJ+ZZfAa3J1e7vtVFPCK6eBttDuLYRN55aKLfVkUwMNuw75zHZGQOgrOQ5aXtdWLP6d68aat0FCaEwZer/M1CqDndH97wBOsDVnYN9p/UkvyIZdJHfvLu9cTuf/bBM8EVlLcOIf71DvVU2PCGeWskEokR4h0v5Sba5sqob4xRKsxgZM9OPn4HGCEsgM2Jxy4A4DpKEKiGvmh5KSi55kdA6vUYfupMV3qZD3gNUDCeco8UNxp8rF0znS4xHBTV0t5To7Ij7ZFhbnm7/vs2652GkJ2235MCMd3tXHAVCbMwcrHh+XJrrXHMmkOKcrJH+RhDIb+UG7qOVeyK6PtcFD8DWaOg0RJwD2hseezM3W1nfk7VeMx56kL4c3UptNGowEMoOg1qg4m/vKOR27ozi7Hvwmi35YoJZVNT9MyIXEQZbyB5jO62bIaSU4P0NEjzk+qsoWtN9YjVGHK6uyHNmLiODW1bo0=
  - secure: Y/YJozOR0xY3iHlY774BT/hI2o/MB8uEsjwer91XST+2gSV9HXFn06Y2WvhfxDcnWwYiwuDG1jBG3Hz0CUPqFBMkbmzl+I9m8pE7fS3OQV+YdIKpFC6lX1YVHrtpmXqEYQfhsZldNAky/NoUwzlcIVkESSqYZmMTh4s0UvJnpuRtTcEYT/idQPVKBJqrGm5CXRLd8juQV99Cs2PiD9ac4eNFjebqml/L+ziVUFvJKvdJvrFFq2XrMIViaH7mfQ9PAZV6eW1xrKogDQSmeeVI8SOSAG6im6sEWIx9eUcP3I1lnw9LszFe6IAJEYWjQ0Kbr5mJK7b86W99VAji5J06pYPaJA+AxeyRIV4XMdOTGXL+V1pGmnWKtMitY0ay72+EkcR+ws5KryQQYiaZ4jxKoZxjVyeThpPffTiQFd1byIwe42Bkf2zixDbFju4dBFbuCVmXaeI7loHFhBtfjXGVbM5w/Q9lnm9o8toYBYmbg1MWTgLlpzkSIHw0SpPmlCo8TbTxQduPYOwbLOAWF1wyzU59CI//R/N/5+LysMQ1ZssYEiIFuOe6BUI2s9/vE1ZZU4Y+WIsNejCWJ3cSc/Nn2epRNZoHOqWQtrU9fgcxHIviMxOwQDuQnU1EAhgZk4BNREJcExUo/rhUwOY0pKNHdf/2h4cmwuC3W35qTMh6gvU=
  - secure: I4sCwhC8YOawZuzcYdU4wCbZNOS1/rTKbVao79Xrt8OkHIor7rYXNr6KVvecGM6hs8MJJauFFo9CygcHWCIDEYnNDt22/E/wy1DYtRQIhlDiAUSG2P9D0x+EEKBckADOnCeYHOkewVd9OModWrb+ulAGhzF2qSg3TYqRq/YNPTjoYq3TNlC/WYXBD3ZfcPGQq8hriwlqEbwSwzdc97lut4QU10bS3EkCksIfp7NVmpYKqQfu3m7m9F9BHOpRn+hxdLdZS0y+Y6Adk1PGEF9zW/WKJq9bXlBejtv4VGxkxz1TcKSenBGo1uOsk3UjeCwKSHMmKCXIOnJeFZWH9OuRrMkPKXH0ezSeyIi/M31rRTXPInuxkDK0K/DJfLPxCbTVWggwNOzmYL+w1jQrF5d0hZu2657fXQkrmIb9/ewy7x1+I/I0Omab1LdxN7GYvETmbY+urNRqU0DLYDagISV5M6yWUTn+ruxWUXzpOcazOjkvUIRAptAVfu1adiOl9qvBgyVdXvBMKUuibk9yTIY8emokX+YZn9/qf4bt7XWiCBGodU8V2gdolaDu+NiDiurBZ6MD+b1RhQpchnZgmGrfnImGAC3ImikcHtCC67QrHxDBuAlmOCkAcS/O3dui6n3Rkv9ZFsX9zaHRchhSSl/0nvD0grfFFc3XgLlkEKpslxo=
  - secure: j+6I/6KbWXQEOp6Pu/9LXNfPHpGJrx3hsltE3Rengu26BrbA4pmL5BtuqPzwQFORuOy6NbFaMhrQ4vY19D8jjdthAbmbDo792iC4RP8GLooEjNlPFR7747+m5Xue8h99DQOblojgyw4Z34waDb1+m6FuMxYL4c5rA8dnvdlXcPwFyEbHxGFQAZae7yoCHS2gxmKiWf2DY4XVc5PWj/Acu4/Krk2Bcb2Is9JWCV/GW4a9UZc1Rj8A4rAbSG4NoybCMaER7LcSLKyuwOnKOxWywiT6Na/ANf8LfQz4Rn9zAg6OCk8gnH2TVidgi3OZMxm+9EjnNz9lECwLsoAjTI093szhnnBa2civupAjHStvuvBu9kHrh5pQSWFXxHECu2dse/DsCHGQDzKxD+1hset2BSw12iSLIYfhe3ZPLOf9NNMdeHyjLzfUM6y6A6HsfkICZXdHyIuBPLemgrNrAQ2vH/uLoxgVFEEb+JsAvhE2xXc4yB9CDeIdRsySLVwJGOGFXIc5j4YK49gD6kizkZ+f9AyLtO4BwH2RwYVXP5+4fZT4lRmxX56D/fr418aBcko5OJ28Ke0g1MDAlBvxb8bpzhebvMhAsOhEDoeAiKxgIPT9wZd2WAm37F+z0ODAOpVgST9iB/Ekdv1hC5ec6URXLU512Ee3u55sXFEzkV6Ws6A=
  - secure: VewatdUdR3Qap1ZjvcwIaLAADEGOq6Pug5JsAaM1wstz50fQfLsx1AGciWCxURcNe2eFo3BTxoBbKCZ1G0MM+Bf1vkg1Y22MChIRzp13e2xx6GoQSYkpOWJp872mHKIJRoJOtNL/t3oTDRA/IO7xJQ1mgM5yBvhqmnKinbBVlZ5oHQMQ++21BZfmnCprYyIMuWYGS2XBR13vv/B6m8/guFPDHqRpD0ynUClkzIoMi1X3JyxpXaR0/26aoQUVansr5RRKB8YaJYKcfn3Uoq2jRCMC5O5FBqQO+IN0056Xb+gchMpslDYLq5z6vWbu+JyQbKYPSS68sgOzm9ukcrgwkitK2JTjBqkdxMRca4B3ooXKZoc1FiOW6gVxjq/t1hwn35FXGMhMN5bT4sUG8M1dg6VFy8y6mlqM1Hey7E4CTgTfLLiwTBrZI52DhDGBUgxO6w2Dz5+vikrGJzi+sqS023dtUG5MaBp8u1Xbs83eXn8OQfj67bzvGNl4KvfUVxhm29H+z4fDqfK6jbqTN2uJ64rZaV+kHg+rJGeHwsYGdq9a6Zhn3fyQ/uNDHkj15oS3Mv1VCqXwd+tg9QOJc9GI1Fps+Zfwh5QErc5fgGcWA9/TuAIAgfZuSNc2zXXKZGadBD1/39HYWtvExbiR6pDwVpu+zHcTu2Jsyl7uacfGYAE=
sudo: true
services:
- docker
jobs:
  include:
  - stage: Building image with p1pay.front.protocol.one
    script:
    - export TAG=`if [[ $TRAVIS_BRANCH == "master" ]]; then echo "latest"; else echo
      $TRAVIS_TAG; fi`
    - echo "$DOCKER_PASSWORD" | docker login --username "$DOCKER_USERNAME" --password-stdin
    - docker build -t $REPO:$TAG -t $REPO:0.0.$TRAVIS_BUILD_NUMBER .
    - docker push $REPO
after_success:
- curl -X POST $JURL/job/deploy-with-helm/build --user $JENKINS_LOGIN:$TOKEN --data-urlencode
  json='{parameter:[{name:"CHART_NAME", value:"p1payfront"}]}'
notifications:
  email: false
  slack:
    secure: HDrwB2s6iTEJVxtZpBXSYYM7L5d3Dv/rGgO1CviS4q0ANEnLbjzMRZJfVq7jbN/mBPp62RyCV6aNUcnxyqPHjww0EGy8b6WTEv5Vt33HN58Vec2rL0T8g2l0YEtWi5J2zP91HHSnv+6dU66v1BU4JaKzP8AJvI51/QF+IccZmBC9SumsVnfqgik5tOK6HSf6QtLImrEmHVTOoQZjxAQ/uPhEMOOnQuX95NUNhB8X1LYJEbTYZuYs7cDwF40xx/nv2Lufwr6hZjDPZYj/SQs5qEWCDpajg4wBQLPsq8Kf051z9MJO6GewgJ+6xJ9LavqnFgYrxqKSdne66kObXNHsFc1pbhKcSZIfNfLhZ+fLrq6sA0JM6k/IwZwWH5c/me+xXYeskDsSKmBloJjGHc5vnYUiBqQkVIJuWd+cU6UEYHVHokwahpLA2a1D6QVMekg03ReiFwQ+hkQcMsm0Sv8FdKMG6pp0uNS3WXyDD5j8mKpOjC78Ime7PSEAmRnoQofESqK9mHIK0OuJv+RSXpGLImJGPFDCt4U3ABKZOiLalN1Umdp1BWyjB2aVbII1SPsSvsGDPPUFGLeF2STU4cCEpmzF2JB4hiRNm6Vi8aVMPEP0ncwG74Zw7rwrHAOG5vAp01nPIFSVgSq2xjjJAmmMpS5LOzesbHHa/+0KcqLRe4I=
